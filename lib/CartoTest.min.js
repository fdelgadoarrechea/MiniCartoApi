!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("leaflet")):"function"==typeof define&&define.amd?define("CartoTest",["leaflet"],t):"object"==typeof exports?exports.CartoTest=t(require("leaflet")):e.CartoTest=t(e.leaflet)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!e.ok)throw Error(e.statusText);return e}function a(e){return e.json()}function i(e){var t=new h.default(e,m.getUser());m.pushCartoLayer(t.getTemplateURL());var n=new y.default(m.getCenter(),m.getZoom());n.renderMap("mapid"),n.renderLayers(m.getLayers())}function u(e){console.log("Looks like there was a problem: \n",e)}var s=n(1),c=r(s),l=n(2),p=r(l),f=n(3),h=r(f),_=n(4),y=r(_),m=new p.default(c.default);fetch(m.getURL(),{mode:"cors",method:"POST",body:JSON.stringify(m.getMapConfig()),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(o).then(a).then(i).catch(u)},function(e,t){e.exports={center:"[52.5897007687178, 52.734375]",zoom:4,maps_api_config:{user_name:"documentation",maps_api_template:"http://{user}.cartodb.com:80"},layers:[{type:"tiled",options:{urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",minZoom:"0",maxZoom:"18",attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}},{type:"CartoDB",options:{sql:"select * from european_countries_e",cartocss:"/** choropleth visualization */\n\n#european_countries_e{\n  polygon-fill: #FFFFB2;\n  polygon-opacity: 0.8;\n  line-color: #FFF;\n  line-width: 1;\n  line-opacity: 0.5;\n}\n#european_countries_e [ area <= 1638094] {\n   polygon-fill: #B10026;\n}\n#european_countries_e [ area <= 55010] {\n   polygon-fill: #E31A1C;\n}\n#european_countries_e [ area <= 34895] {\n   polygon-fill: #FC4E2A;\n}\n#european_countries_e [ area <= 12890] {\n   polygon-fill: #FD8D3C;\n}\n#european_countries_e [ area <= 10025] {\n   polygon-fill: #FEB24C;\n}\n#european_countries_e [ area <= 9150] {\n   polygon-fill: #FED976;\n}\n#european_countries_e [ area <= 5592] {\n   polygon-fill: #FFFFB2;\n}",cartocss_version:"2.1.1"}},{options:{urlTemplate:"http://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}.png",minZoom:"0",maxZoom:"18",attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},type:"tiled"}]}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this._config=t,this._url="",this._mapconfig="",this._user="",this._layers=[],this._center=t.center,this._zoom=t.zoom}return o(e,[{key:"getCenter",value:function(){var e=this._center;return this._center=e.slice(1,-1).split(","),this._center}},{key:"getZoom",value:function(){return this._zoom}},{key:"getUser",value:function(){return this._user=this._config.maps_api_config.user_name,this._user}},{key:"getURL",value:function(){return this._url="https://"+this.getUser()+".carto.com/api/v1/map",this._url}},{key:"getMapConfig",value:function(){var e=this._config.layers,t=[],n="";return e.forEach(function(e){"CartoDB"===e.type?(n={version:"1.3.1",layers:[{type:"cartodb",options:e.options}]},t.push("CartoDB")):t.push(e.options.urlTemplate)}),this._mapconfig=n,this._layers=t,this._mapconfig}},{key:"pushCartoLayer",value:function(e){var t=[];this._layers.forEach(function(n){"CartoDB"===n?t.push(e):t.push(n)}),this._layers=t}},{key:"getLayers",value:function(){return this._layers}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){r(this,e),this._cdnURL="http://ashbu.cartocdn.com/",this._user=n,this._templateURL="",this._layergroupid=t.layergroupid}return o(e,[{key:"getTemplateURL",value:function(){return this._templateURL=""+this._cdnURL+this._user+"/api/v1/map/"+this._layergroupid+"/0/{z}/{x}/{y}.png",this._templateURL}}]),e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(){function e(t,n){r(this,e),this._center=t,this._zoom=n,this._templateURL="",this._currentMap=""}return o(e,[{key:"renderMap",value:function(e){this._currentMap=i.default.map(e).setView(this._center,this._zoom)}},{key:"renderLayers",value:function(e){var t=this._currentMap;e.forEach(function(e){i.default.tileLayer(e,{maxZoom:18}).addTo(t)})}}]),e}();t.default=u,e.exports=t.default},function(t,n){t.exports=e}])});